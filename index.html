<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Football Fixtures</title>
    <meta name="viewport" content="width=1024, user-scalable=yes">
    <style>
        body {
            margin: 0;
            background: #141414;
        }
        #loading-overlay {
            position: fixed;
            left: 0; top: 0; width: 100vw; height: 100vh;
            background: rgba(0,0,0,0.88);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            z-index: 10000;
        }
        #loading-overlay img {
            width: 80px;
            height: 80px;
            margin-bottom: 24px;
            display: block;
        }
        #typing-text {
            color: #fff;
            font-size: 1.15rem;
            font-weight: 600;
            letter-spacing: 1px;
            min-height: 28px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            border-right: 2px solid #ffd700;
            white-space: pre;
            overflow: hidden;
        }
        .hide { display: none !important; }
        .fixture-container { max-width: 600px; margin: 48px auto; background: #181818; border-radius: 14px; box-shadow: 0 4px 32px rgba(0,0,0,0.4); padding: 32px 18px 48px 18px; position:relative; }
        .fixture-block { margin-bottom: 64px; }
        .fixture-title { font-size: 1.5rem; font-weight: 700; margin-bottom: 9px; text-align: center; color: #ffd700; letter-spacing: 1px; }
        .fixture-time { text-align: center; margin-bottom: 28px; font-size: 1.1rem; color: #00c3ff; }
        .teams-row { display: flex; justify-content: center; align-items: center; gap: 48px; margin-bottom: 22px; }
        .team { display: flex; flex-direction: column; align-items: center; }
        .team img { width: 92px; height: 92px; border-radius: 50%; object-fit: cover; border: 3px solid #222; background: #272727; margin-bottom: 7px; }
        .team-name { font-size: 1.12rem; font-weight: 600; color: #fff; text-align: center; margin-top: 2px; max-width: 130px; }
        .vs { font-size: 2.4rem; font-weight: bold; color: #ffd700; margin: 0 18px; background: #000; border-radius: 50%; width: 74px; height: 74px; display: flex; align-items: center; justify-content: center; box-shadow: 0 2px 10px #0005; }
        .toggle-buttons { display: flex; justify-content: center; gap: 14px; margin-bottom: 24px; }
        .toggle-btn { background: #23272e; border: 2px solid #ffd700; color: #ffd700; padding: 7px 24px; border-radius: 30px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: background 0.15s, color 0.15s; }
        .toggle-btn.active { background: #ffd700; color: #181818; }
        .stats-bar { margin-bottom: 24px; }
        .stat-row { display: flex; align-items: center; margin: 10px 0; }
        .stat-label { width: 110px; text-align: center; color: #ffd700; font-weight: 600; font-size: 1rem; }
        .stat-bar-outer { flex: 1; display: flex; align-items: center; }
        .stat-bar-inner { height: 16px; border-radius: 8px; margin: 0 8px; background: #23272e; position: relative; flex: 1; display: flex; }
        .stat-bar-home { background: linear-gradient(90deg, #0a3773 80%, #23272e 100%); border-top-left-radius: 8px; border-bottom-left-radius: 8px; height: 100%; }
        .stat-bar-away { background: linear-gradient(270deg, #6d081b 80%, #23272e 100%); border-top-right-radius: 8px; border-bottom-right-radius: 8px; height: 100%; }
        .stat-value { width: 42px; text-align: center; font-weight: bold; color: #fff; }
        /* Event Box Styling */
        .events-timeline {
            margin-bottom: 24px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .events-box {
            width: 96%;
            max-width: 370px;
            min-height: 410px;
            max-height: 440px;
            position: relative;
            border-radius: 14px;
            background: #191e33;
            border: 2px solid #ffd700;
            box-shadow: 0 2px 18px #0006;
            overflow-y: auto;
            margin: 0 auto 0 auto;
            padding: 0 0 0 0;
            scrollbar-width: thin;
            scrollbar-color: #ffd700 #23272e;
        }
        .events-box::-webkit-scrollbar {
            width: 8px;
        }
        .events-box::-webkit-scrollbar-thumb {
            background: #ffd700;
            border-radius: 6px;
        }
        .events-box::-webkit-scrollbar-track {
            background: #23272e;
        }
        .timeline-line {
            border-left: 3px solid #ffd700;
            min-height: 100%;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            z-index: 0;
        }
        .event-label { 
            display: flex; align-items: center; position: absolute; min-width: 180px; 
            font-size: 1.06rem; padding: 9px 15px; border-radius: 8px; 
            background: #222; color: #fff; box-shadow: 0 2px 8px #0007; 
            white-space: nowrap; font-weight: 600;
            letter-spacing: 0.5px;
        }
        .event-label.home { left: calc(50% - 202px); justify-content: flex-end; background: #0a3773; }
        .event-label.away { left: 54%; justify-content: flex-start; background: #6d081b; }
        .event-min { 
            position: absolute; left: 50%; transform: translateX(-50%); 
            width: 68px; text-align: center; color: #ffd700; 
            font-size: 1.04rem; font-weight: 700; background: #23272e; 
            border-radius: 7px; border: 1px solid #444; 
            box-shadow: 0 1px 6px #0005; padding: 2px 0;
            letter-spacing: 0.4px;
        }
        .icon-ball { width: 18px; height: 18px; margin-right: 7px; border-radius: 50%; border: 2px solid #fff; background: #fff; display: inline-block; }
        .icon-arrow-up { width: 0; height: 0; border-left: 10px solid transparent; border-right: 10px solid transparent; border-bottom: 18px solid #2ecc40; margin-right: 7px; }
        .icon-arrow-down { width: 0; height: 0; border-left: 10px solid transparent; border-right: 10px solid transparent; border-top: 18px solid #e74c3c; margin-right: 7px; }
        .ht-label, .ft-label { position: absolute; left: 50%; transform: translateX(-50%); font-size: 1.13rem; color: #ffd700; background: #23272e; padding: 3px 18px; border-radius: 9px; font-weight: 700; box-shadow: 0 2px 10px #0004;}
        .ht-label { margin-top: 8px; }
        .ft-label { margin-top: 8px; }
        .score-section { margin-top: 22px; text-align: center; }
        .score-inner { display: inline-block; background: #23272e; padding: 8px 22px; border-radius: 8px; font-size: 1.25rem; font-weight: 700; color: #ffd700; box-shadow: 0 2px 8px rgba(0,0,0,0.25); margin-bottom: 7px; }
        .score-value { color: #fff; }
        .header-img { width: 100%; max-width: 220px; display: block; margin: 0 auto 18px auto; border-radius: 12px; box-shadow: 0 2px 16px #222; }
        .sport-channel { text-align: center; color: #00c3ff; font-size: 1.16rem; font-weight: bold; margin-bottom: 18px; letter-spacing: 2px; }
        .match-venue { text-align: center; font-size: 1.04rem; font-weight: 600; color: #63e6be; margin-bottom: 10px; background: #23272e; padding: 6px 0; border-radius: 6px; box-shadow: 0 2px 8px #222; }
        .match-possibility-title { text-align: center; font-weight: 600; color: #00c3ff; margin-bottom: 8px; }
        .match-possibility-bar { display: flex; justify-content: center; gap: 16px; margin-top: 7px; }
        .possibility { padding: 7px 16px; border-radius: 7px; font-size: 1.04rem; text-align: center; font-weight: 600; }
        .possibility.green { background: #2ecc40 !important; color: #fff !important; }
        .possibility.yellow { background: #ffd700 !important; color: #222 !important; }
        .possibility.red { background: #e74c3c !important; color: #fff !important; }
        .possibility.home { background: #0a3773; color: #ffd700; }
        .possibility.draw { background: #434343; color: #00c3ff; }
        .possibility.away { background: #6d081b; color: #ffd700; }
        .fixture-separator { border-top: 2px dashed #444; margin: 48px 0 40px 0; }
        .empty-space { height: 80px; }
        #add-fixture-btn {
            display: block;
            margin: 0 auto 18px auto;
            background: #ffd700;
            color: #181818;
            font-weight: bold;
            padding: 10px 22px;
            border: none;
            border-radius: 24px;
            font-size: 1rem;
            cursor: pointer;
            box-shadow: 0 2px 10px #0004;
            transition: background 0.2s;
        }
        #add-fixture-btn:hover:enabled {
            background: #ffb700;
        }
        #add-fixture-btn:disabled {
            background: #999;
            color: #555;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <div id="loading-overlay">
        <img src="AddText_06-04-10.32.55.png" alt="Loading..." />
        <span id="typing-text"></span>
    </div>
    <div class="fixture-container" id="fixture-content" style="display:none;">
        <img src="AddText_06-04-10.32.55.png" alt="Header" class="header-img" id="header-img"/>
        <div class="sport-channel">SPORT CHANNEL</div>
        <div id="fixtures-root"></div>
        <button id="add-fixture-btn" onclick="showNextFixture()">Show Next Fixture</button>
        <div class="fixture-separator"></div>
        <div class="empty-space"></div>
    </div>
    <script>
    // Typing text effect for loading
    const loadingText = "UEC/QIC 16 Abasi Orok";
    const typingDelay = 90; // ms per character

    function typeLoadingText(text, el, cb) {
        let idx = 0;
        function type() {
            el.textContent = text.slice(0, idx + 1);
            idx++;
            if (idx < text.length) {
                setTimeout(type, typingDelay);
            } else {
                if (cb) cb();
            }
        }
        type();
    }

    // Fixtures array - add more fixtures here using the same structure
    const fixtures = [
        [
            "Youth Friendly Football Match",
            "Friday, June 6, 2025 â€¢ 08:00 AM",
            "Divine God's Mercy Academy", "AddText_06-05-05.08.00.png",
            "The Rock FC", "AddText_06-04-01.09.17.png",
            [
                ["Corner Kicks",4,6],
                ["Shots",10,14],
                ["Shots on Target",6,10],
                ["Ball Possession",70,30],
                ["Yellow Cards",1,2],
                ["Red Cards",2,1]
            ],
            "2-2",
            "4-6",
            "Piaco Comprehensive College",
            [
                ["home", "Home 60%"],
                ["draw", "Draw 30%"],
                ["away", "Away 10%"]
            ],
            [
                ["goal","away",15,"Paul"],
                ["goal","home",26,"Digma"],
                ["goal","away",40,"Christian"],
                ["goal","home",46,"Digma"],
                ["ht","","48","HT 2-2"],
                ["goal","home",52,"Digma"],
                ["goal","away",60,"Ronaldo"],
                ["goal","home",65,"Digma"],
                ["sub_out","away",70,"Joseph"],
                ["sub_in","away",73,"captain"],
                ["goal","away",79,"Paul"],
                ["goal","away",85,"Paul"],
                ["goal","away",92,"Ronaldo"],
                ["ft","","99","FT 4-6"]
            ]
        ]
        // Add more fixtures here as needed!
    ];

    let currentFixtureIndex = 0;

    // Spread out events with more vertical space so player/action is never too close
    function minuteToTop(minute) {
        // Give at least 42px per event slot, and extra for second half
        const slot = 42;
        let m = typeof minute === "string" ? parseInt(minute, 10) : minute;
        if (minute > 90 || (typeof minute === "string" && minute.includes("+"))) {
            return slot * 23;
        }
        // Place HT at 11th slot, FT at 22nd slot
        let index = 0;
        if (m <= 45) index = Math.round(m/4); // 0..11
        else index = 11 + Math.round((m-45)/4); // 12..22
        return slot * index;
    }

    function renderFixture(f, idx) {
        const [
            title, time, homeName, homeImg, awayName, awayImg,
            stats, halfTimeScore, fullTimeScore, venue, possibility, events
        ] = f;
        const fixtureId = `fixture${idx+1}`;
        return `
        <div class="fixture-block" id="${fixtureId}">
            <div class="fixture-title">${title}</div>
            <div class="fixture-time">${time}</div>
            <div class="teams-row">
                <div class="team">
                    <div class="team-label">Home</div>
                    <img src="${homeImg}" alt="Team A">
                    <div class="team-name">${homeName}</div>
                </div>
                <div class="vs">VS</div>
                <div class="team">
                    <div class="team-label">Away</div>
                    <img src="${awayImg}" alt="Team B">
                    <div class="team-name">${awayName}</div>
                </div>
            </div>
            <div class="toggle-buttons">
                <button class="toggle-btn active" onclick="showStats('${fixtureId}')">Match Stats</button>
                <button class="toggle-btn" onclick="showEvents('${fixtureId}')">Events</button>
            </div>
            <div class="stats-bar" id="${fixtureId}-stats">
            ${
                stats.map(row => {
                    const [label, home, away] = row;
                    const total = home + away > 0 ? home + away : 1;
                    const homePercent = Math.round((home/total)*100);
                    const awayPercent = 100 - homePercent;
                    return `
                    <div class="stat-row">
                        <div class="stat-value" style="color:#ffd700;">${home}</div>
                        <div class="stat-bar-outer">
                            <div class="stat-bar-inner">
                                <div class="stat-bar-home" style="width:${homePercent}%;"></div>
                                <div class="stat-bar-away" style="width:${awayPercent}%;"></div>
                            </div>
                        </div>
                        <div class="stat-value" style="color:#ffd700;">${away}</div>
                        <div class="stat-label">${label}</div>
                    </div>
                    `;
                }).join('')
            }
            </div>
            <div class="events-timeline" id="${fixtureId}-events" style="display:none;">
                <div class="events-box">
                    <div class="timeline-line" style="height:950px;"></div>
                    ${
                        events.map(ev => {
                            const [type, team, minute, arg] = ev;
                            if(type==="goal") {
                                const top = minuteToTop(minute);
                                return `
                                <div class="event-label ${team}" style="top:${top}px;">
                                    <span class="icon-ball"></span>${arg} <span style="margin-left:12px;">${minute}'</span>
                                </div>
                                <div class="event-min" style="top:${top-7}px;">${minute}'</div>
                                `;
                            }
                            if(type==="sub_in") {
                                const top = minuteToTop(minute)+14;
                                return `
                                <div class="event-label ${team}" style="top:${top}px;">
                                    <span class="icon-arrow-up"></span>${arg} IN <span style="margin-left:10px;color:#ffd700;font-size:0.99em;">${minute}'</span>
                                </div>
                                `;
                            }
                            if(type==="sub_out") {
                                const top = minuteToTop(minute) + 27;
                                return `
                                <div class="event-label ${team}" style="top:${top}px;">
                                    <span class="icon-arrow-down"></span>${arg} OUT <span style="margin-left:10px;color:#ffd700;font-size:0.99em;">${minute}'</span>
                                </div>
                                `;
                            }
                            if(type==="ht") {
                                return `<div class="ht-label" style="top:462px;">${arg}</div>`;
                            }
                            if(type==="ft") {
                                return `<div class="ft-label" style="top:924px;">${arg}</div>`;
                            }
                            return '';
                        }).join('')
                    }
                </div>
            </div>
            <div class="score-section">
                <div class="score-inner">
                    Half Time Score: <span class="score-value">${halfTimeScore}</span>
                </div>
                <br>
                <div class="score-inner">
                    Full Time Score: <span class="score-value">${fullTimeScore}</span>
                </div>
            </div>
            <div class="match-info">
                <div class="match-venue">Venue: ${venue}</div>
                <div class="match-possibility-title">Match Possibility</div>
                <div class="match-possibility-bar" id="${fixtureId}-possibility-bar">
                    ${possibility.map(p=>`<div class="possibility ${p[0]}">${p[1]}</div>`).join("")}
                </div>
            </div>
        </div>
        `;
    }
    function colorPossibilities() {
        document.querySelectorAll('[id$="-possibility-bar"]').forEach(bar => {
            const items = Array.from(bar.children);
            const percentages = items.map(item => {
                const match = item.textContent.match(/(\d+)%/);
                return match ? parseInt(match[1]) : 0;
            });
            const sorted = [...percentages].sort((a, b) => b - a);
            items.forEach((item, idx) => {
                item.classList.remove('green', 'yellow', 'red');
                if (percentages[idx] === sorted[0]) {
                    item.classList.add('green');
                } else if (percentages[idx] === sorted[1]) {
                    item.classList.add('yellow');
                } else {
                    item.classList.add('red');
                }
            });
        });
    }
    function showStats(fixtureId) {
        document.querySelector(`#${fixtureId}-stats`).style.display = "";
        document.querySelector(`#${fixtureId}-events`).style.display = "none";
        let block = document.getElementById(fixtureId);
        block.querySelector('.toggle-btn:nth-child(1)').classList.add("active");
        block.querySelector('.toggle-btn:nth-child(2)').classList.remove("active");
    }
    function showEvents(fixtureId) {
        document.querySelector(`#${fixtureId}-stats`).style.display = "none";
        document.querySelector(`#${fixtureId}-events`).style.display = "";
        let block = document.getElementById(fixtureId);
        block.querySelector('.toggle-btn:nth-child(1)').classList.remove("active");
        block.querySelector('.toggle-btn:nth-child(2)').classList.add("active");
    }

    function showNextFixture() {
        currentFixtureIndex++;
        if (currentFixtureIndex < fixtures.length) {
            document.getElementById('fixtures-root').innerHTML += renderFixture(fixtures[currentFixtureIndex], currentFixtureIndex);
            colorPossibilities();
            if (currentFixtureIndex === fixtures.length - 1) {
                const btn = document.getElementById('add-fixture-btn');
                btn.textContent = "No More Fixtures";
                btn.disabled = true;
            }
        } else {
            const btn = document.getElementById('add-fixture-btn');
            btn.textContent = "No More Fixtures";
            btn.disabled = true;
        }
    }

    window.addEventListener('DOMContentLoaded', function() {
        typeLoadingText(loadingText, document.getElementById('typing-text'), function() {
            setTimeout(function() {
                document.getElementById('fixtures-root').innerHTML = renderFixture(fixtures[0], 0);
                colorPossibilities();
                document.getElementById('loading-overlay').style.display = 'none';
                document.getElementById('fixture-content').style.display = '';
                if (fixtures.length < 2) {
                    const btn = document.getElementById('add-fixture-btn');
                    btn.textContent = "No More Fixtures";
                    btn.disabled = true;
                }
            }, 400);
        });
    });
    </script>
</body>
</html>
